/*
* Copyright (c) 2013 - Andrey Boomer - andrey.boomer at gmail.com
* icq: 454169
* Licensed under the MIT license:
*   http://www.opensource.org/licenses/mit-license.php
* Part of IWS system
*/
jQuery.uiBackCompat=!1;jQuery.jgrid.no_legacy_api=!0;
function browserDetectNav(k){var l=window.navigator.userAgent,p=/Version[ \/]+\w+\.\w+/i,q=/Safari\/\w+\.\w+/i,m=[],r=/[ \/\.]/i,p=l.match(p),a=l.match(/Firefox\/\w+\.\w+/i),b=l.match(/Chrome\/\w+\.\w+/i),d=l.match(/Version\/\w+\.\w+/i),q=l.match(q),h=l.match(/MSIE *\d+\.\w+/i),l=l.match(/Opera[ \/]+\w+\.\w+/i);""==!l&""==!p?m[0]=p[0].replace(/Version/,"Opera"):""==!l?m[0]=l[0]:""==!h?m[0]=h[0]:""==!a?m[0]=a[0]:""==!b?m[0]=b[0]:""==!d&&""==!q?m[0]=d[0].replace("Version","Safari"):window.MSStream&&
(m[0]="Internet Explorer IE11");var n;null!=m[0]&&(n=m[0].split(r));return(null==k|0==k)&null!=n?(k=n[2].length,n[2]=n[2].substring(0,k),n):null!=k?(n[2]=n[2].substr(0,k),n):!1}
function browserDetectJS(){var k=[];window.opera?(k[0]="Opera",k[1]=window.opera.version()):window.chrome?k[0]="Chrome":window.sidebar?k[0]="Firefox":window.external||"Opera"===k[0]?window.ActiveXObject&&(k[0]="MSIE",k[1]=window.navigator.userProfile?"6":window.Storage?"8":window.Storage||window.navigator.userProfile?"Unknown":"7"):k[0]="Safari";return k?k:!1}
function alert_browser_message(k){alert("\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0432\u0430\u0448\u0430 \u0432\u0435\u0440\u0441\u0438\u044f \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430:\r\n"+k+"\r\n\u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0435\u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e, \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435\u0441\u044c, \u043b\u0438\u0431\u043e \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443!");
throw new Exception_no_browser("error");}var browserNav=browserDetectNav(1),browserJS=browserDetectJS(),browser;browser=browserNav[0]==browserJS[0]?browserNav:browserNav[0]!=browserJS[0]?browserJS:!1;jQuery.browser={};
switch(browser[0]){case "Chrome":jQuery.browser.webkit=!0;23>browser[1]&&alert_browser_message(browser[0]+" (\u0432\u0435\u0440\u0441\u0438\u044f "+browser[1]+"."+browser[2]+")");break;case "Safari":jQuery.browser.safari=!0;5>browser[1]&&alert_browser_message(browser[0]+" (\u0432\u0435\u0440\u0441\u0438\u044f "+browser[1]+"."+browser[2]+")");break;case "MSIE":jQuery.browser.msie=!0;9>browser[1]&&alert_browser_message(browser[0]+" (\u0432\u0435\u0440\u0441\u0438\u044f "+browser[1]+"."+browser[2]+")");
break;case "Opera":jQuery.browser.opera=!0;13>browser[1]&&alert_browser_message(browser[0]+" (\u0432\u0435\u0440\u0441\u0438\u044f "+browser[1]+"."+browser[2]+")");break;case "Firefox":jQuery.browser.mozilla=!0,10>browser[1]&&alert_browser_message(browser[0]+" (\u0432\u0435\u0440\u0441\u0438\u044f "+browser[1]+"."+browser[2]+")")}var counttab=1,sumtab=0,alert_enabled=0,hidden_menu=!1,main_menu_higth,doc_height,doc_width;
$(function(){$("#tabs").tabs({collapsible:!1,heightStyle:"fill",activate:function(a,b){redraw_document($(".ui-tabs-panel[aria-expanded='true']"))}});$("#tabs").find(".ui-tabs-nav").sortable({axis:"x",placeholder:"ui-state-highlight",distance:10,stop:function(){$("#tabs").tabs("refresh");redraw_document($(".ui-tabs-panel[aria-expanded='true']"))}}).disableSelection();custom_alert=function(a){title_msg="\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435:";-1!=a.search("ORA-")&&(title_msg="SQL \u041e\u0448\u0438\u0431\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:");
-1!=a.search("\u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d")&&(title_msg="\u0410\u0443\u043d\u0442\u0435\u0444\u0438\u043a\u0430\u0446\u0438\u044f:");a||(a="");$("<div />").html(a).dialog({title:title_msg,resizable:!1,minWidth:450,modal:!0,dialogClass:"alert",buttons:{"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":function(){$(this).dialog("close")}},open:function(){$(this).parent().css("z-index",9999).parent().children(".ui-widget-overlay").css("z-index",105)}})};$("#Menubar").menubar({menuIcon:!0}).css({"float":"left",
"text-align":"left",display:"block"});trim_text=function(a,b,d){var h="";if(a.length<b)return a;a=a.split(" ");for(b=0;b<a.length;b++)if(h=h+" "+a[b],b>d-2)return h+"..."};plot_graph=function(a){$.ajax({url:a.attr("url"),type:"GET",success:function(b){b=jQuery.parseJSON(b);var d=$("#"+a.attr("id")),h={canvas:!0,grid:{hoverable:!0,clickable:!0},legend:{backgroundOpacity:0.8,show:b.legend},xaxis:b.xaxis,yaxes:b.yaxis,zoom:{interactive:!0},pan:{interactive:!1},crosshair:{mode:"xy"}};$.extend(h,b.options);
0==a.children().length?($.plot(d,b.data,h),d.bind("plothover",function(a,b,c){b=d.is(":ui-tooltip");a=$.ui.tooltip.prototype.options.position;null!==c&&!1===b?(b=c.series.label+": "+c.series.data[c.dataIndex][0]+", "+c.datapoint[1],c=$.extend(a,{of:{pageX:c.pageX,pageY:c.pageY,preventDefault:$.noop}}),d.tooltip({position:c,content:b,items:"*"}).tooltip("open")):null===c&&!0===b&&d.tooltip("destroy")}),$("<div><b>"+b.chart_label+"</b></div>").insertBefore(a)):$.plot(d,b.data,h);0<b.xaxis.labelAngle&&
a.find(".flot-x-axis").children(".flot-tick-label").css({"-webkit-transform":"translateX(50%) rotate("+b.xaxis.labelAngle+"deg)","-moz-transform":"translateX(50%) rotate("+b.xaxis.labelAngle+"deg)","-ms-transform":"translateX(50%) rotate("+b.xaxis.labelAngle+"deg)","-o-transform":"translateX(50%) rotate("+b.xaxis.labelAngle+"deg)",transform:"translateX(50%) rotate("+b.xaxis.labelAngle+"deg)","transform-origin":"3px 3px 0px","-ms-transform-origin":"3px 3px 0px","-moz-transform-origin":"3px 3px 0px",
"-webkit-transform-origin":"3px 3px 0px","-o-transform-origin":"3px 3px 0px"})}})};SetTab=function(a,b,d){if("false"!=d){var h=d;$("#"+h).empty();""!=a&&($("#ui-"+h).text(trim_text(a,40,3)),$("#ui-"+h).prop("title",a))}else h="tabs_"+counttab,sumtab++,$("#tabs").children(".ui-tabs-nav").append($("<li />").append($("<a />").attr({href:"#"+h,title:a,id:"ui-"+h}).text(trim_text(a,40,3)).append('<span class="ui-icon ui-icon-document" style="float:left;top:5px"></span>')).append('<span class="ui-icon ui-icon-close" style="float:left"></span>')),
$("#tabs").append($("<div />").attr({id:h,style:"overflow:hide;width:"+(doc_width-18)+"px"}));$("#"+h).append("<div class='loader_tab' style='overflow:hide'><div>");b=b+"&tabid="+h;$("#tabs").tabs("refresh");"false"==d&&$("#tabs").tabs("option","active",$("#tabs").children(".ui-tabs-nav li").length-1);$("#"+h).attr({need_redraw:!0});redraw_document();$.ajax({url:b,type:"GET",success:function(a){0==$(a).find("div[window_login='logon']").length?($("#"+h).empty().css("text-align","left").attr({need_redraw:!0}),
$("#"+h).append($(a).fadeIn(300)),redraw_document($(".ui-tabs-panel[aria-expanded='true']"))):$("html").empty().append(a)}});counttab++};CloseTab=function(a){var b=$("#ui-"+a).parent().closest("li").remove().attr("aria-controls");$("#tabs").tabs("refresh");sumtab--;redraw_document($(".ui-tabs-panel[aria-expanded='true']"));$("#"+b).remove();$("."+a).remove()};$(".help_button").button({icons:{primary:"ui-icon-help"},text:!1}).attr("style","float: right;").appendTo("#tabs .ui-tabs-nav").click(function(){SetTab("\u0418\u043d\u0434\u0435\u043a\u0441 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0430",
$(this).attr("url"),"false")});$("#tabs").children(".ui-tabs-nav").append($("<button>\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435 \u0432\u043a\u043b\u0430\u0434\u043a\u0438</button>").attr({id:"close_all_tab",style:"float: right;margin: 0px 5px 3px 0px;"}).button({icons:{primary:"ui-icon-closethick"},text:!1}).click(function(){$.each($("#tabs .ui-tabs-nav li"),function(){CloseTab($(this).attr("aria-controls"))})}));$("#tabs").children(".ui-tabs-nav").append($("<button>\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u043e\u0442\u043a\u0440\u044b\u0442\u0443\u044e \u0432\u043a\u043b\u0430\u0434\u043a\u0443</button>").attr({id:"print_this_tab",
style:"float: right;margin: 0px 5px 3px 0px;"}).button({icons:{primary:"ui-icon-print"},text:!1}).click(function(){var a=$(".ui-tabs-panel[aria-expanded='true'] .tab_main_content").find(".ui-jqgrid-view table, .FormGrid table, .chart").clone();a.removeAttr("height class top left");$(a).printThis({printContainer:!1,importCSS:!1,loadCSS:"/library/print.css",debug:!1})}));redraw_document=function(a){"undefined"===typeof a&&(a=$($(".ui-tabs-panel[aria-expanded='true']")));if(a.attr("need_redraw")||0===
a.length)$("#tabs").tabs().height(doc_height-main_menu_higth-10),$("#tabs .ui-tabs-panel").height(doc_height-main_menu_higth-10).width(doc_width-20),$(".about_tabs").offset({top:doc_height-50}),$(".about_tabs_ver").offset({top:doc_height-25}),a.children(".tab_main_content").height(doc_height-main_menu_higth-90).width(doc_width-20),a.attr({need_redraw:!1}).children(".navigation_header").height(30);$(".dialog_jqgrid_overlay,.ui-widget-overlay").height(doc_height-main_menu_higth-85).width(doc_width-
24).offset({top:main_menu_higth+30+50,left:12});a.css("overflow","hidden");if(0<a.find(".help_content").length){var b=a.find(".help_content"),d=a.children(".ui-accordion-header"),h=doc_height-main_menu_higth-150-2.05*d.height()*(d.length-1);b.height(doc_height-main_menu_higth-90).width(doc_width-20);d.width(doc_width-65);b.children(".ui-accordion-content").height(h).width(doc_width-87)}$.each(a.find(".grid_resizer, .grid_resizer_tabs"),function(){var a=$(this),b=a.attr("form_type"),c=a.attr("percent");
a.attr("detail_sub_tab")?(c-=33/(doc_height/100),c=(doc_height-main_menu_higth-93)/100*c-23,doc_width_grid=doc_width-48,add_to_koeff=0):(c=90>c&&10<c||0<a.attr("percent_saved")?(doc_height-main_menu_higth-93)/100*c:doc_height-main_menu_higth-93,doc_width_grid=doc_width-27,add_to_koeff=20);b="TREE_GRID_FORM_DETAIL"!=b&&"TREE_GRID_FORM"!=b?"none"!=a.children(".ui-jqgrid").find(".ui-search-toolbar").css("display")&&"TREE_GRID_FORM_MASTER"!=b?82+add_to_koeff:55+add_to_koeff:82;a.height(c).width(doc_width_grid);
a.height(c).children(".ui-jqgrid").height(c-2).width(doc_width_grid).children(".ui-jqgrid-pager").height(25).width(doc_width_grid).parent().children(".ui-jqgrid-view").height(c-27).width(doc_width_grid).children(".ui-jqgrid-hdiv").width(doc_width_grid).parent().children(".ui-jqgrid-bdiv").height(c-b).width(doc_width_grid)});$.each($(".grid_resizer[form_type$='_DETAIL'] div.ui-jqgrid-titlebar, .detail_tab .ui-tabs-nav"),function(){1>$(this).children("div[control='window']").length&&(button_htm_down=
$("<span>").attr({style:"float:right;cursor: pointer","class":"ui-icon ui-icon-circle-triangle-n",title:"\u0420\u0430\u0441\u043f\u0430\u0445\u043d\u0443\u0442\u044c \u043d\u0430 \u0432\u0441\u0435 \u043e\u043a\u043d\u043e/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}).click(function(){upper=$(".ui-tabs-panel[aria-expanded='true'] .grid_resizer:first");downn=$(".ui-tabs-panel[aria-expanded='true'] .grid_resizer:last,.ui-tabs-panel[aria-expanded='true'] .grid_resizer_tabs");
$(".ui-tabs-panel[aria-expanded='true'] .ui-icon-circle-triangle-s").show();0<upper.attr("percent_saved")?(upper.attr("percent",upper.attr("percent_saved")).removeAttr("percent_saved"),downn.attr("percent",downn.attr("percent_saved")).removeAttr("percent_saved"),downn.show(),$(this).parent().remove()):(upper.attr("percent_saved",upper.attr("percent")).attr("percent",0),downn.attr("percent_saved",downn.attr("percent")).attr("percent",100),upper.hide(),$(this).hide());redraw_document($(".ui-tabs-panel[aria-expanded='true']"))}),
button_htm_up=$("<span>").attr({style:"float:right;cursor: pointer","class":"ui-icon ui-icon-circle-triangle-s",title:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c/\u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}).click(function(){upper=$(".ui-tabs-panel[aria-expanded='true'] .grid_resizer:first");downn=$(".ui-tabs-panel[aria-expanded='true'] .grid_resizer:last,.ui-tabs-panel[aria-expanded='true'] .grid_resizer_tabs");$(".ui-tabs-panel[aria-expanded='true'] .ui-icon-circle-triangle-n").show();
0<upper.attr("percent_saved")?(upper.attr("percent",upper.attr("percent_saved")).removeAttr("percent_saved"),downn.attr("percent",downn.attr("percent_saved")).removeAttr("percent_saved"),upper.show(),$(this).show()):(upper.attr("percent_saved",upper.attr("percent")).attr("percent",100),downn.attr("percent_saved",downn.attr("percent")).attr("percent",0),downn.hide(),$(this).hide(),$(".ui-tabs-panel[aria-expanded='true'] div[control='window']").appendTo(upper.find(".ui-jqgrid-titlebar")));redraw_document($(".ui-tabs-panel[aria-expanded='true']"))}),
$(this).append($('<div control="window" style="float:right;"></div>').append(button_htm_up,button_htm_down)))});7<sumtab?(alert_enabled=1,$.each($(".navigation_header"),function(){1!=$(this).children(".alert_button").length&&$(this).append("<div class='alert_button ui-state-error ui-corner-all' style='float:right;width:100px;margin: 6px 15px 5px 5px;' title='\u041e\u0442\u043a\u0440\u044b\u0442\u043e \u0431\u043e\u043b\u0435\u0435 7 \u0432\u043a\u043b\u0430\u0434\u043e\u043a \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e,\u044d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0441\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043c\u0435\u0434\u043b\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u044b. \u041f\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043a\u0440\u043e\u0439\u0442\u0435 \u043e\u0434\u043d\u0443 \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u043a\u043b\u0430\u0434\u043e\u043a.'><span class='ui-icon ui-icon-alert' style='float:left'></span>\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415!</div>")})):
0<alert_enabled&&(alert_enabled=0,$(".navigation_header .alert_button").remove())};replace_select_opt_group=function(a){"undefined"===typeof a&&(a=$("body"));$.each($(a).find("select option[value='GROUP_START']"),function(){$(this).replaceWith("<optgroup label='"+$(this).text()+"' >")});$.each($(a).find("select option[value='GROUP_END']"),function(){var a=$(this).parent(),d=a.children("option:selected");if("undefined"!==typeof a.html()){var h=$(a.html().split("</optgroup>").join("").split('<option value="GROUP_END"></option>').join("</optgroup>").split('<option role="option" value="GROUP_END"></option>').join("</optgroup>"));
h.children('option[value="'+d.attr("value")+'"]').attr("selected","selected");a.empty().append(h)}})};auto_width_grid=function(a){var b=$("#gview_"+a+" .ui-jqgrid-hdiv .ui-jqgrid-hbox table tr:first th:visible"),d=$("#gview_"+a+" .ui-jqgrid-bdiv div table tr:first td:visible"),h=0,n=0;$.each(b,function(){$(this).attr("id")==a+"_rn"&&(n=$(this).width());h+=$(this).width()});var k=$("#"+a).parent().width();if(h<k){var c=k/h;$.each(b,function(){var b=$(this).width();$(this).attr("id")!=a+"_rn"&&$(this).width(b*
c)});$.each(d,function(){var a=$(this).width();$(this).width()!=n&&$(this).width(a*c)})}};set_resizers=function(){$(".has_resize_control").resizable({distance:30,handles:"s",resize:function(a,b){var d=doc_height-main_menu_higth-93,h=100+(b.size.height-d)/Math.abs(d)*100,d=100-h;if(10<h&&95>h&&10<d&&95>d)switch(h=$(this).attr("percent",h),h.attr("form_type")){case "GRID_FORM_MASTER":h.parent().children("div[form_type='GRID_FORM_DETAIL']").attr("percent",d);h.parent().children("div[form_type='TABED_GRID_FORM']").attr("percent",
d).children(".ui-tabs-panel").children(".grid_resizer_tabs").attr("percent",d);break;case "TREE_GRID_FORM_MASTER":h.parent().children("div[form_type='TREE_GRID_FORM_DETAIL']").attr("percent",d);h.parent().children("div[form_type='TABED_GRID_FORM']").attr("percent",d).children(".ui-tabs-panel").children(".grid_resizer_tabs").attr("percent",d);break;default:h.parent().children("div[form_type='GRID_FORM']").attr("percent",d)}},create:function(a,b){$(this).children(".ui-resizable-handle").height(5.3).attr("align",
"center").append($("<div />").addClass("ui-widget-header ui-state-hover ui-corner-all").height(2).width(150))}})};set_detail_tab=function(){$(".detail_tab").tabs({collapsible:!0,heightStyle:"fill",activate:function(a,b){"true"==$("#"+b.newTab.attr("aria-controls")).children(".grid_resizer_tabs").attr("need_update")&&($("#"+$("#"+b.newTab.attr("aria-controls")).children(".grid_resizer_tabs").attr("for")).jqGrid().trigger("reloadGrid",!0),$("#"+b.newTab.attr("aria-controls")).children(".grid_resizer_tabs").attr("need_update",
"false"))}})};$(document).on("click","#tabs span.ui-icon-close",function(){CloseTab($(this).parent().attr("aria-controls"))});$(document).ready(function(){$.browser.msie&&$(".ui-menu-item a").append("&nbsp;&nbsp;&nbsp;&nbsp;");main_menu_higth=$(".main_menu").height();doc_height=$(window).height();doc_width=$(window).width()-2;hidden_menu&&($("#Menubar").menubar("destroy"),$(".main_menu").height(0).hide(),main_menu_higth=0,$("#tabs").children(".ui-tabs-nav").append($("<button>\u041c\u0435\u043d\u044e</button>").attr({id:"menu_hidden_tab",
style:"float: left;margin: 0px 5px 3px 0px;"}).button({icons:{primary:"ui-icon-newwin",secondary:"ui-icon-triangle-1-s"},text:!0}).click(function(){var a=$("#hidden_menubar").show().position({my:"left top",at:"left bottom",of:this});$(document).one("click",function(){a.hide()});return!1})),$("body").append($("<ul />").attr({id:"hidden_menubar",style:"float:left;"}).append($("#Menubar").children("li").unwrap())),$.each($("#hidden_menubar").children("li"),function(){$(this).children("a").append("<span class='ui-icon ui-icon-folder-collapsed'></span>").removeClass("ui-button-text-icon-secondary").children("b").removeAttr("style");
$.browser.msie&&$(this).children("a").append("&nbsp;&nbsp;&nbsp;&nbsp;")}),$("#hidden_menubar").children("li:first").after("<li></li>"),$("#hidden_menubar").hide().menu());redraw_document();$("#loading").fadeOut(300)});$(window).resize(function(){$(".ui-tabs-panel").attr({need_redraw:!0});main_menu_higth=$(".main_menu").height();doc_height=$(window).height();doc_width=$(window).width()-2;redraw_document($(".ui-tabs-panel[aria-expanded='true']"))});check_form=function(a){var b=!0;$.each(a.find("input[is_requred='true']"),
function(){""===$.trim($(this).val())&&($(this).addClass("ui-state-error"),$("#clone_"+$(this).attr("id")).parent().addClass("ui-state-error"),$(this).parent().children(".ui-button").addClass("ui-state-error"),b=!1)});$.each(a.find("select[is_requred='true']"),function(){""===$.trim($(this).val())&&($(this).addClass("ui-state-error"),$(this).parent().children("button").addClass("ui-state-error"),b=!1)});$.each(a.find("textarea[is_requred='true']"),function(){""===$.trim($(this).val())&&($(this).addClass("ui-state-error"),
$(this).parent().children(".ace_scroller").addClass("ui-state-error"),b=!1)});if(b)return!0;custom_alert("\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u044f\u0447\u0435\u0439\u043a\u0438.");return!1};create_from_table_elements=function(a){var b=a.attr("id").split("_"),d=b[b.length-2]+"_"+b[b.length-1],h=0;$.each(a.find("input, select, textarea"),
function(){var a=$(this);a.width(a.attr("w")).addClass(d);switch(a.attr("row_type")){case "I":case "N":case "NL":case "C":a.spinner();"N"==a.attr("row_type")?a.spinner("option","culture","ru-RU").spinner("option","numberFormat","n2").spinner("option","step","0.01"):"NL"==a.attr("row_type")?a.spinner("option","culture","ru-RU").spinner("option","numberFormat","n7").spinner("option","step","0.01"):"C"==a.attr("row_type")&&a.spinner("option","culture","ru-RU").spinner("option","numberFormat","C").spinner("option",
"step","0.01");a.removeClass("ui-widget-content ui-corner-all").calculator({useThemeRoller:!0,showAnim:"",showOn:"",onButton:function(b,g,f){a.spinner("value",g)}});$($("<button>\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440</button>").button({icons:{primary:"ui-icon-calculator"},text:!1}).click(function(b){a.calculator("show")})).insertAfter(a.parent());"undefined"!==typeof a.attr("show_disabled")&&"false"!=a.attr("show_disabled")&&(a.spinner("option",
"disabled"),a.parent().parent().children(".ui-button").remove());break;case "P":a.attr("value","");break;case "B":a.before('<label for="'+a.attr("id")+'">\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0438\u043b\u0438 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e</label>').button({icons:{primary:"ui-icon-check"},text:!1}).addClass(d).click(function(){"checked"!=a.attr("checked")?a.attr("checked","checked").button({icons:{primary:"ui-icon-check"}}):a.removeAttr("checked").button({icons:{primary:"ui-icon-bullet"}})});
a.addClass("ui-helper-hidden-accessible");a.attr("checked")?a.button({icons:{primary:"ui-icon-check"}}).button("refresh"):a.button({icons:{primary:"ui-icon-bullet"}}).button("refresh");a.removeAttr("style");break;case "MAS":var b=a.attr("case");a.mask(a.attr("mask"),{onKeyPress:function(a,g,f){switch(b){case "U":$(f).val(a.toUpperCase());break;case "L":$(f).val(a.toLowerCase())}}});break;case "D":a.datepicker({showOn:"button",showWeek:!0,numberOfMonths:num_of_mounth,changeYear:!0,firstDay:1}).addClass(d).parent().children(".ui-datepicker-trigger").button({icons:{primary:"ui-icon-calendar"},
text:!1}).addClass(d);"undefined"!==typeof a.attr("show_disabled")&&"false"!=a.attr("show_disabled")&&(a.datepicker("option","disabled",!0),a.parent().children(".ui-datepicker-trigger").remove());break;case "DT":a.datetimepicker({showWeek:!0,numberOfMonths:num_of_mounth,changeYear:!0,firstDay:1,timeFormat:"HH:mm:ss",showOn:"button",controlType:{create:function(a,b,f,e,d,h,k){$('<input class="ui-timepicker-input" value="'+e+'" style="width:50px">').appendTo(b).spinner({min:d,max:h,step:k,change:function(b,
g){void 0!==b.originalEvent&&a._onTimeChange();a._onSelectHandler()},spin:function(e,d){a.control.value(a,b,f,d.value);a._onTimeChange();a._onSelectHandler()}});return b},options:function(a,b,d,e,h){return"string"==typeof e&&void 0!==h?b.find(".ui-timepicker-input").spinner(e,h):b.find(".ui-timepicker-input").spinner(e)},value:function(a,b,d,e){return void 0!==e?b.find(".ui-timepicker-input").spinner("value",e):b.find(".ui-timepicker-input").spinner("value")}}}).addClass(d).parent().children(".ui-datepicker-trigger").button({icons:{primary:"ui-icon-calendar"},
text:!1}).addClass(d);"undefined"!==typeof a.attr("show_disabled")&&"false"!=a.attr("show_disabled")&&(a.datepicker("option","disabled",!0),a.parent().children(".ui-datepicker-trigger").remove());break;case "SB":a.multiselect({multiple:a.attr("multiple")?!0:!1,minWidth:255>a.attr("w")?255:a.attr("w"),header:!0,selectedList:a.attr("size")?a.attr("size"):1}).multiselectfilter().addClass(d);break;case "M":setTimeout(function(){a.before($("<div />").attr({id:"editor_"+a.attr("name")}));$("#editor_"+a.attr("name")).ace_editor({width:a.attr("w"),
heigth:50<12*a.attr("rows")?12*a.attr("rows"):50,mode:"ace/mode/pgsql",classes:"FormElement ui-widget-content ui-corner-all",resizable:!0,value:a.val(),change:function(b,d){"object"===typeof d?a.val(""):a.val(d)}}).addClass(d).css({"margin-left":"0px;"});a.hide()},50)}"undefined"!==typeof a.attr("show_disabled")&&"false"!=a.attr("show_disabled")&&(a.attr({name:null,disabled:"disabled"}).addClass("FormElement ui-widget-content ui-corner-all ui-state-disabled"),"undefined"!==typeof obj_clone&&obj_clone.attr({name:null,
disabled:"disabled"}).addClass("FormElement ui-widget-content ui-corner-all ui-state-disabled"));$(this).width()>h&&(h=$(this).width())});return h};update_table_elemnts=function(a){$.each(a.find("input, select, textarea"),function(){var a=$(this);a.removeClass("ui-state-error");$("#clone_"+a.attr("id")).parent().removeClass("ui-state-error");a.parent().children(".ui-button").removeClass("ui-state-error");a.parent().children("button").removeClass("ui-state-error");a.parent().children(".ace_scroller").removeClass("ui-state-error");
switch(a.attr("row_type")){case "I":case "N":case "NL":case "C":a.spinner("value",a.val());break;case "P":a.attr("value","");break;case "B":a.attr("checked")?a.button({icons:{primary:"ui-icon-check"}}).button("refresh").addClass("ui-state-active"):a.button({icons:{primary:"ui-icon-bullet"}}).button("refresh");break;case "D":case "DT":a.datepicker("setDate",a.val());break;case "SB":if(a.attr("multiple"))a.multiselect("refresh");else{var d=a.find("option:selected").text();a.parent().find(".ui-multiselect span:last").text(d);
a.multiselect("widget").find("input:checked").removeAttr("checked").removeAttr("aria-selected").parent().removeClass("ui-state-active ui-state-hover");$.each(a.multiselect("widget").find("span:contains('"+d+"')"),function(){""!=d&&$(this).text()==d&&$(this).parent().addClass("ui-corner-all ui-state-active ui-state-hover").children("input").attr("checked","checked").attr("aria-selected",!0)});"undefined"!==typeof a.attr("show_disabled")&&"false"!=a.attr("show_disabled")&&(a.multiselect("disable"),
a.multiselect("refresh"))}break;case "M":$("#editor_"+a.attr("name")).ace_editor({value:a.val()})}})};$("#param").dialog({autoOpen:!1,modal:!0,minWidth:450,closeOnEscape:!0,resizable:!1,buttons:{"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c":function(){$.browser.msie?$("#submit_settings").click():$.ajax({url:location.href+"ajax.saveparams.php",datatype:"json",data:$("#settings_from").serialize(),cache:!1,type:"POST",success:function(a){$(location).prop("href",location.href)}});$(this).dialog("close")},
"\u041e\u0442\u043c\u0435\u043d\u0430":function(){$(this).dialog("close")}},close:function(){$(this).dialog("close")},open:function(){$(".ui-dialog-buttonpane").find('button:contains("\u041e\u0442\u043c\u0435\u043d\u0430")').button({icons:{primary:"ui-icon-close"}});$(".ui-dialog-buttonpane").find('button:contains("\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")').button({icons:{primary:"ui-icon-disk"}});$(this).parent().css("z-index",110).parent().children(".ui-widget-overlay").css("z-index",
105)}});$("#about").dialog({autoOpen:!1,modal:!0,minWidth:650,closeOnEscape:!0,resizable:!1,close:function(){$(this).dialog("close")},open:function(){$(this).parent().css("z-index",110).parent().children(".ui-widget-overlay").css("z-index",105)}});$("#themeselector").multiselect({multiple:!1,header:!0,selectedList:1});$("#width_enable").button({icons:{primary:"ui-icon-arrow-2-e-w"}}).click(function(){var a=$("#width_enable");"checked"!=a.attr("checked")?a.attr("checked","checked"):a.removeAttr("checked")});
$("#editabled").button({icons:{primary:"ui-icon-lightbulb"}}).click(function(){var a=$("#editabled");"checked"!=a.attr("checked")?a.attr("checked","checked"):a.removeAttr("checked")});$("#hide_menu").button({icons:{primary:"ui-icon-carat-2-e-w"}}).click(function(){var a=$("#hide_menu");"checked"!=a.attr("checked")?a.attr("checked","checked"):a.removeAttr("checked")});$("#cache_enable").button({icons:{primary:"ui-icon-notice"}}).click(function(){var a=$("#cache_enable");"checked"!=a.attr("checked")?
a.attr("checked","checked"):a.removeAttr("checked")});$("#renderer").slider({range:"min",value:$("#render_type").val(),min:0,max:3,step:1,slide:function(a,b){$.browser.msie&&2<=b.value?($("#render_type").val(2),$(this).slider({value:2})):$("#render_type").val(b.value)}});$("#num_mounth").spinner({spin:function(a,b){if(6<b.value)return $(this).spinner("value",1),!1;if(1>b.value)return $(this).spinner("value",6),!1}});$("#num_reck").spinner({step:10,spin:function(a,b){if(5E3<b.value)return $(this).spinner("value",
1),!1;if(1>b.value)return $(this).spinner("value",5E3),!1}});get_select_values_grid=function(a,b,d){$.ajax({url:"ajax.data.select.php?value_name="+b+"&parent_id="+d,datatype:"json",cache:!1,type:"GET",success:function(d){$("#"+a).jqGrid("setColProp",b,{editoptions:{value:d},searchoptions:{value:":;"+d}});$("#"+a).attr("new_colmodel",!0)}})};$.calculator.regionalOptions.ru={decimalChar:".",buttonText:"...",buttonStatus:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440",
closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",closeStatus:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440",useText:"OK",useStatus:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u043f\u043e\u043b\u0435",eraseText:"\u0421\u0431\u0440\u043e\u0441",eraseStatus:"\u0421\u0442\u0435\u0440\u0435\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",
backspaceText:"<-",backspaceStatus:"\u0421\u0442\u0435\u0440\u0435\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u0446\u0438\u0444\u0440\u0443",clearErrorText:"CE",clearErrorStatus:"\u0421\u0442\u0435\u0440\u0435\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0447\u0438\u0441\u043b\u043e",clearText:"\u0421",clearStatus:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",memClearText:"MC",memClearStatus:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u043c\u044f\u0442\u044c",
memRecallText:"MR",memRecallStatus:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437 \u043f\u0430\u043c\u044f\u0442\u0438",memStoreText:"MS",memStoreStatus:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 \u043f\u0430\u043c\u044f\u0442\u044c",memAddText:"M+",memAddStatus:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u0430\u043c\u044f\u0442\u044c",memSubtractText:"M-",memSubtractStatus:"\u0412\u044b\u0447\u0435\u0441\u0442\u044c \u0438\u0437 \u043f\u0430\u043c\u044f\u0442\u0438",
base2Text:"\u0411\u0438\u043d",base2Status:"\u0411\u0438\u043d\u0430\u0440\u043d\u044b\u0439",base8Text:"\u0412\u043e\u0441\u043c",base8Status:"\u0412\u043e\u0441\u043c\u0435\u0440\u0438\u0447\u043d\u044b\u0439",base10Text:"\u0414\u0435\u0441",base10Status:"\u0414\u0435\u0441\u044f\u0442\u0438\u0447\u043d\u044b\u0439",base16Text:"\u0428\u0435\u0441\u0442",base16Status:"\u0428\u0435\u0441\u0442\u043d\u0430\u0434\u0446\u0430\u0442\u0438\u0440\u0438\u0447\u043d\u044b\u0439",degreesText:"\u0413\u0440\u0430\u0434",
degreesStatus:"\u0413\u0440\u0430\u0434\u0443\u0441\u044b",radiansText:"\u0420\u0430\u0434",radiansStatus:"\u0420\u0430\u0434\u0438\u0430\u043d\u044b",isRTL:!1};$.calculator.setDefaults($.calculator.regionalOptions.ru);$.extend($.ech.multiselectfilter.prototype.options,{label:"\u0424\u0438\u043b\u044c\u0442\u0440:",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e"});$.extend($.ech.multiselect.prototype.options,{height:250,minWidth:350,checkAllText:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0432\u0441\u0435",
uncheckAllText:"\u0421\u043d\u044f\u0442\u044c \u043e\u0442\u043c\u0435\u0442\u043a\u0443 \u0441\u043e \u0432\u0441\u0435\u0445",noneSelectedText:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430",selectedText:"\u0412\u044b\u0431\u0440\u0430\u043d\u043e #"});Globalize.addCultureInfo("ru-RU","default",{name:"ru-RU",englishName:"Russian (Russia)",nativeName:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439 (\u0420\u043e\u0441\u0441\u0438\u044f)",language:"ru",
numberFormat:{",":"",".":".",negativeInfinity:"-\u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0441\u0442\u044c",positiveInfinity:"\u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0441\u0442\u044c",percent:{pattern:["-n%","n%"],",":"",".":"."},currency:{pattern:["-n$","n$"],",":"",".":".",symbol:"\u0440."}},calendars:{standard:{"/":".",firstDay:1,days:{names:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a \u0432\u0442\u043e\u0440\u043d\u0438\u043a \u0441\u0440\u0435\u0434\u0430 \u0447\u0435\u0442\u0432\u0435\u0440\u0433 \u043f\u044f\u0442\u043d\u0438\u0446\u0430 \u0441\u0443\u0431\u0431\u043e\u0442\u0430".split(" "),
namesAbbr:"\u0412\u0441 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" "),namesShort:"\u0412\u0441 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" ")},months:{names:"\u042f\u043d\u0432\u0430\u0440\u044c \u0424\u0435\u0432\u0440\u0430\u043b\u044c \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0435\u043b\u044c \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u041e\u043a\u0442\u044f\u0431\u0440\u044c \u041d\u043e\u044f\u0431\u0440\u044c \u0414\u0435\u043a\u0430\u0431\u0440\u044c ".split(" "),
namesAbbr:"\u044f\u043d\u0432 \u0444\u0435\u0432 \u043c\u0430\u0440 \u0430\u043f\u0440 \u043c\u0430\u0439 \u0438\u044e\u043d \u0438\u044e\u043b \u0430\u0432\u0433 \u0441\u0435\u043d \u043e\u043a\u0442 \u043d\u043e\u044f \u0434\u0435\u043a ".split(" ")},monthsGenitive:{names:"\u044f\u043d\u0432\u0430\u0440\u044f \u0444\u0435\u0432\u0440\u0430\u043b\u044f \u043c\u0430\u0440\u0442\u0430 \u0430\u043f\u0440\u0435\u043b\u044f \u043c\u0430\u044f \u0438\u044e\u043d\u044f \u0438\u044e\u043b\u044f \u0430\u0432\u0433\u0443\u0441\u0442\u0430 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u043e\u043a\u0442\u044f\u0431\u0440\u044f \u043d\u043e\u044f\u0431\u0440\u044f \u0434\u0435\u043a\u0430\u0431\u0440\u044f ".split(" "),
namesAbbr:"\u044f\u043d\u0432 \u0444\u0435\u0432 \u043c\u0430\u0440 \u0430\u043f\u0440 \u043c\u0430\u0439 \u0438\u044e\u043d \u0438\u044e\u043b \u0430\u0432\u0433 \u0441\u0435\u043d \u043e\u043a\u0442 \u043d\u043e\u044f \u0434\u0435\u043a ".split(" ")},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d MMMM yyyy '\u0433.'",t:"H:mm",T:"H:mm:ss",f:"d MMMM yyyy '\u0433.' H:mm",F:"d MMMM yyyy '\u0433.' H:mm:ss",Y:"MMMM yyyy"}}}});var k=function(a,b){var d,h,k,l,c;k=a&2147483648;l=b&2147483648;d=a&1073741824;
h=b&1073741824;c=(a&1073741823)+(b&1073741823);return d&h?c^2147483648^k^l:d|h?c&1073741824?c^3221225472^k^l:c^1073741824^k^l:c^k^l},l=function(a,b,d,h,l,m,c){a=k(a,k(k(b&d|~b&h,l),c));return k(a<<m|a>>>32-m,b)},p=function(a,b,d,h,l,m,c){a=k(a,k(k(b&h|d&~h,l),c));return k(a<<m|a>>>32-m,b)},q=function(a,b,d,h,l,m,c){a=k(a,k(k(b^d^h,l),c));return k(a<<m|a>>>32-m,b)},m=function(a,b,d,h,l,m,c){a=k(a,k(k(d^(b|~h),l),c));return k(a<<m|a>>>32-m,b)},r=function(a){var b="",d="",h;for(h=0;3>=h;h++)d=a>>>8*
h&255,d="0"+d.toString(16),b+=d.substr(d.length-2,2);return b};$.extend({md5:function(a){var b=[],d,h,n,s,c,g,f,e,b=a.replace(/\x0d\x0a/g,"\n");a="";for(d=0;d<b.length;d++)h=b.charCodeAt(d),128>h?a+=String.fromCharCode(h):(127<h&&2048>h?a+=String.fromCharCode(h>>6|192):(a+=String.fromCharCode(h>>12|224),a+=String.fromCharCode(h>>6&63|128)),a+=String.fromCharCode(h&63|128));b=a;a=b.length;d=a+8;h=16*((d-d%64)/64+1);n=Array(h-1);for(c=s=0;c<a;)d=(c-c%4)/4,s=c%4*8,n[d]|=b.charCodeAt(c)<<s,c++;d=(c-c%
4)/4;n[d]|=128<<c%4*8;n[h-2]=a<<3;n[h-1]=a>>>29;b=n;c=1732584193;g=4023233417;f=2562383102;e=271733878;for(a=0;a<b.length;a+=16)d=c,h=g,n=f,s=e,c=l(c,g,f,e,b[a+0],7,3614090360),e=l(e,c,g,f,b[a+1],12,3905402710),f=l(f,e,c,g,b[a+2],17,606105819),g=l(g,f,e,c,b[a+3],22,3250441966),c=l(c,g,f,e,b[a+4],7,4118548399),e=l(e,c,g,f,b[a+5],12,1200080426),f=l(f,e,c,g,b[a+6],17,2821735955),g=l(g,f,e,c,b[a+7],22,4249261313),c=l(c,g,f,e,b[a+8],7,1770035416),e=l(e,c,g,f,b[a+9],12,2336552879),f=l(f,e,c,g,b[a+10],17,
4294925233),g=l(g,f,e,c,b[a+11],22,2304563134),c=l(c,g,f,e,b[a+12],7,1804603682),e=l(e,c,g,f,b[a+13],12,4254626195),f=l(f,e,c,g,b[a+14],17,2792965006),g=l(g,f,e,c,b[a+15],22,1236535329),c=p(c,g,f,e,b[a+1],5,4129170786),e=p(e,c,g,f,b[a+6],9,3225465664),f=p(f,e,c,g,b[a+11],14,643717713),g=p(g,f,e,c,b[a+0],20,3921069994),c=p(c,g,f,e,b[a+5],5,3593408605),e=p(e,c,g,f,b[a+10],9,38016083),f=p(f,e,c,g,b[a+15],14,3634488961),g=p(g,f,e,c,b[a+4],20,3889429448),c=p(c,g,f,e,b[a+9],5,568446438),e=p(e,c,g,f,b[a+
14],9,3275163606),f=p(f,e,c,g,b[a+3],14,4107603335),g=p(g,f,e,c,b[a+8],20,1163531501),c=p(c,g,f,e,b[a+13],5,2850285829),e=p(e,c,g,f,b[a+2],9,4243563512),f=p(f,e,c,g,b[a+7],14,1735328473),g=p(g,f,e,c,b[a+12],20,2368359562),c=q(c,g,f,e,b[a+5],4,4294588738),e=q(e,c,g,f,b[a+8],11,2272392833),f=q(f,e,c,g,b[a+11],16,1839030562),g=q(g,f,e,c,b[a+14],23,4259657740),c=q(c,g,f,e,b[a+1],4,2763975236),e=q(e,c,g,f,b[a+4],11,1272893353),f=q(f,e,c,g,b[a+7],16,4139469664),g=q(g,f,e,c,b[a+10],23,3200236656),c=q(c,
g,f,e,b[a+13],4,681279174),e=q(e,c,g,f,b[a+0],11,3936430074),f=q(f,e,c,g,b[a+3],16,3572445317),g=q(g,f,e,c,b[a+6],23,76029189),c=q(c,g,f,e,b[a+9],4,3654602809),e=q(e,c,g,f,b[a+12],11,3873151461),f=q(f,e,c,g,b[a+15],16,530742520),g=q(g,f,e,c,b[a+2],23,3299628645),c=m(c,g,f,e,b[a+0],6,4096336452),e=m(e,c,g,f,b[a+7],10,1126891415),f=m(f,e,c,g,b[a+14],15,2878612391),g=m(g,f,e,c,b[a+5],21,4237533241),c=m(c,g,f,e,b[a+12],6,1700485571),e=m(e,c,g,f,b[a+3],10,2399980690),f=m(f,e,c,g,b[a+10],15,4293915773),
g=m(g,f,e,c,b[a+1],21,2240044497),c=m(c,g,f,e,b[a+8],6,1873313359),e=m(e,c,g,f,b[a+15],10,4264355552),f=m(f,e,c,g,b[a+6],15,2734768916),g=m(g,f,e,c,b[a+13],21,1309151649),c=m(c,g,f,e,b[a+4],6,4149444226),e=m(e,c,g,f,b[a+11],10,3174756917),f=m(f,e,c,g,b[a+2],15,718787259),g=m(g,f,e,c,b[a+9],21,3951481745),c=k(c,d),g=k(g,h),f=k(f,n),e=k(e,s);return(r(c)+r(g)+r(f)+r(e)).toLowerCase()}});$.widget("ui.ace_editor",{options:{editor:null,mode:"ace/mode/pgsql",classes:"ui-widget-content ui-corner-all",resizable:!0,
value:"",heigth:30,width:250},_create:function(){var a=this,b=a.element.attr("id"),d=$("#"+a.element.attr("id"));a.options.editor=ace.edit(b);a.options.editor.getSession().setMode(a.options.mode);a.options.editor.getSession().setValue(a.options.value);a.options.editor.getSession().on("change",function(){a._trigger("change",a,a.options.editor.getSession().getValue())});a.options.editor.setHighlightActiveLine(!1);a.options.editor.renderer.setShowGutter(!1);a.options.editor.setShowPrintMargin(!1);d.width(a.options.width).height(a.options.heigth).addClass(a.options.classes).css("margin-left",
"5px");a.options.resizable&&d.resizable({resize:function(b,k){d.height($(this).height()).width($(this).width());a.options.editor.resize()}});a.options.editor.resize()},_setOption:function(a,b){$.Widget.prototype._setOption.apply(this,arguments);switch(a){case "value":this.options.editor.getSession().setValue(b);this.options.value=b;break;case "heigth":this.options.heigth=b;break;case "width":this.options.width=b;break;case "resizable":this.options.resizable=b;break;case "classes":this.options.classes=
b;break;case "mode":this.options.mode=b}}})});


var Base64 = (function() {
    "use strict";

    var _keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";

    var _utf8_encode = function (string) {

        var utftext = "", c, n;

        string = string.replace(/\r\n/g,"\n");

        for (n = 0; n < string.length; n++) {

            c = string.charCodeAt(n);

            if (c < 128) {

                utftext += String.fromCharCode(c);

            } else if((c > 127) && (c < 2048)) {

                utftext += String.fromCharCode((c >> 6) | 192);
                utftext += String.fromCharCode((c & 63) | 128);

            } else {

                utftext += String.fromCharCode((c >> 12) | 224);
                utftext += String.fromCharCode(((c >> 6) & 63) | 128);
                utftext += String.fromCharCode((c & 63) | 128);

            }

        }

        return utftext;
    };

    var _utf8_decode = function (utftext) {
        var string = "", i = 0, c = 0, c1 = 0, c2 = 0;

        while ( i < utftext.length ) {

            c = utftext.charCodeAt(i);

            if (c < 128) {

                string += String.fromCharCode(c);
                i++;

            } else if((c > 191) && (c < 224)) {

                c1 = utftext.charCodeAt(i+1);
                string += String.fromCharCode(((c & 31) << 6) | (c1 & 63));
                i += 2;

            } else {

                c1 = utftext.charCodeAt(i+1);
                c2 = utftext.charCodeAt(i+2);
                string += String.fromCharCode(((c & 15) << 12) | ((c1 & 63) << 6) | (c2 & 63));
                i += 3;

            }

        }

        return string;
    };

    var _hexEncode = function(input) {
        var output = '', i;

        for(i = 0; i < input.length; i++) {
            output += input.charCodeAt(i).toString(16);
        }

        return output;
    };

    var _hexDecode = function(input) {
        var output = '', i;

        if(input.length % 2 > 0) {
            input = '0' + input;
        }

        for(i = 0; i < input.length; i = i + 2) {
            output += String.fromCharCode(parseInt(input.charAt(i) + input.charAt(i + 1), 16));
        }

        return output;
    };

    var encode = function (input) {
        var output = "", chr1, chr2, chr3, enc1, enc2, enc3, enc4, i = 0;

        input = _utf8_encode(input);

        while (i < input.length) {

            chr1 = input.charCodeAt(i++);
            chr2 = input.charCodeAt(i++);
            chr3 = input.charCodeAt(i++);

            enc1 = chr1 >> 2;
            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
            enc4 = chr3 & 63;

            if (isNaN(chr2)) {
                enc3 = enc4 = 64;
            } else if (isNaN(chr3)) {
                enc4 = 64;
            }

            output += _keyStr.charAt(enc1);
            output += _keyStr.charAt(enc2);
            output += _keyStr.charAt(enc3);
            output += _keyStr.charAt(enc4);

        }

        return output;
    };

    var decode = function (input) {
        var output = "", chr1, chr2, chr3, enc1, enc2, enc3, enc4, i = 0;

        input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");

        while (i < input.length) {

            enc1 = _keyStr.indexOf(input.charAt(i++));
            enc2 = _keyStr.indexOf(input.charAt(i++));
            enc3 = _keyStr.indexOf(input.charAt(i++));
            enc4 = _keyStr.indexOf(input.charAt(i++));

            chr1 = (enc1 << 2) | (enc2 >> 4);
            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
            chr3 = ((enc3 & 3) << 6) | enc4;

            output += String.fromCharCode(chr1);

            if (enc3 !== 64) {
                output += String.fromCharCode(chr2);
            }
            if (enc4 !== 64) {
                output += String.fromCharCode(chr3);
            }

        }

        return _utf8_decode(output);
    };

    var decodeToHex = function(input) {
        return _hexEncode(decode(input));
    };

    var encodeFromHex = function(input) {
        return encode(_hexDecode(input));
    };

    return {
        'encode': encode,
        'decode': decode,
        'decodeToHex': decodeToHex,
        'encodeFromHex': encodeFromHex
    };
}());
